{% extends "templates/main.html" %}

{% block content %}


<div class="bg-teal-100 flex flex-col min-h-screen">
    <nav class="bg-teal-50 border-gray-200">
        <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
            <a href="https://flowbite.com/" class="flex items-center space-x-3 rtl:space-x-reverse">
                <span class="self-center text-2xl font-semibold font-serif text-cyan-900 whitespace-nowrap">wheng</span>
            </a>
            <button data-collapse-toggle="navbar-default" type="button" class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-default" aria-expanded="false">
                <span class="sr-only">Open main menu</span>
                <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
                </svg>
            </button>
            <div class="hidden w-full md:block md:w-auto" id="navbar-default">
                <ul class="font-medium flex flex-col p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-teal-50 md:flex-row md:space-x-8 rtl:space-x-reverse md:mt-0 md:border-0 md:bg-teal-50">
                    <li>
                        <a href="#" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">Home</a>
                    </li>
                    <li>
                        <a href="#" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">Set</a>
                    </li>
                    <li>
                        <a href="#" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">About</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
  
    <div class="flex flex-col justify-center items-center h-2/5">
        <div class="mt-12">
            <h1 class="text-9xl font-bold font-serif mt-5 text-cyan-900 ">wheng</h1>
            <hr>
        </div>
        <div class="w-96 flex items-center justify-center">
            <!-- edit here your current countdown event's description -->
            <p class="text-lg font-bold font-serif mt-5 text-cyan-900 ">a simple application to countdown an event !</a></p>
        </div>
    </div>

    <!-- timer -->
    <div class="flex flex-col flex-grow justify-center items-center w-screen">
        <div class="w-3/5 p-6 shadow-lg bg-teal-50 h-64 rounded-3xl mx-auto">
            <div class="flex justify-between gap-4">
                <div class="w-full h-52 p-4 bg-cyan-700 rounded-lg text-teal-50 text-center relative">
                    <p id="days" class="text-9xl font-bold absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">00</p>
                    <p class="absolute bottom-4 text-xl left-1/2 transform -translate-x-1/2">days</p>
                </div>
                <div class="w-full h-52 p-4 bg-cyan-700 rounded-lg text-teal-50 text-center relative">
                    <p id="hours" class="text-9xl font-bold absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">00</p>
                    <p class="absolute bottom-4 text-xl left-1/2 transform -translate-x-1/2">hours</p>
                </div>
                <div class="w-full h-52 p-4 bg-cyan-700 rounded-lg text-teal-50 text-center relative">
                    <p id="minutes" class="text-9xl font-bold absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">00</p>
                    <p class="absolute bottom-4 text-xl left-1/2 transform -translate-x-1/2">minutes</p>
                </div>
                <div class="w-full h-52 p-4 bg-cyan-700 rounded-lg text-teal-50 text-center relative">
                    <p id="seconds" class="text-9xl font-bold absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">00</p>
                    <p class="absolute bottom-4 text-xl left-1/2 transform -translate-x-1/2">seconds</p>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-teal-50 shadow">
        <div class="w-full mx-auto max-w-screen-xl p-4 md:flex md:items-center md:justify-between">
            <span class="text-sm text-gray-900 sm:text-center">
                Â© 2024 <a href="#" class="hover:underline">wheng</a> | Developed by devkir
            </span>
        <ul class="flex flex-wrap items-center mt-3 text-sm font-medium text-gray-900 sm:mt-0">
            <li>
                <a href="#" class="hover:underline me-4 md:me-6">About</a>
            </li>
            <li>
                <a href="#" class="hover:underline me-4 md:me-6">Privacy Policy</a>
            </li>
            <li>
                <a href="#" class="hover:underline me-4 md:me-6">Licensing</a>
            </li>
            <li>
                <a href="#" class="hover:underline">Contact</a>
            </li>
        </ul>
        </div>
    </footer>
</div>
{% endblock %}

{% block script %}
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const button = document.querySelector('[data-collapse-toggle="navbar-default"]');
        const menu = document.getElementById('navbar-default');

        button.addEventListener('click', function () {
            menu.classList.toggle('hidden');
        });
    });

    function updateTimer(){
        $.ajax({
            url: '/get_remaining_time',
            method: 'GET',
            dataType: 'json',
            success: function(data){
                document.getElementById('days').innerHTML =`
                    <p>${data.days}<p>
                `;
                document.getElementById('hours').innerHTML =`
                    <p>${data.hours}<p>
                `;
                document.getElementById('minutes').innerHTML =`
                    <p>${data.minutes}<p>
                `;
                document.getElementById('seconds').innerHTML =`
                    <p>${data.seconds}<p>
                `;
            },
            error: function (error){
                console.error('Error fetching data:', error);
            }
        });
    }

    setInterval(updateTimer, 1000);
    updateTimer();
</script>
{% endblock %}